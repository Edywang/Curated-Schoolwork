head	1.4;
access;
symbols;
locks;
comment	@// @;


1.4
date	2020.11.23.01.33.33;	author -;	state -;
branches;
next	1.3;

1.3
date	2020.11.21.21.29.39;	author -;	state -;
branches;
next	1.2;

1.2
date	2020.11.21.21.25.38;	author -;	state -;
branches;
next	1.1;

1.1
date	2018.11.07.02.50.44;	author -;	state -;
branches;
next	;


desc
@@


1.4
log
@-
@
text
@// $Id: sigtoperl.cpp,v 1.3 2020-11-21 13:29:39-08 - - $

#include <cstdlib>
#include <cstring>
#include <ctime>
#include <iomanip>
#include <iostream>
#include <string>
#include <sys/utsname.h>
using namespace std;

int main (int, char** argv) {

   // Print UTS system information.
   struct utsname utsbuf {};
   uname (&utsbuf);
   cout << "# " << basename (argv[0]) << ": " << utsbuf.machine
        << " " << utsbuf.sysname << " " << utsbuf.nodename << endl;

   // Print current date/time.
   struct tm tm_local;
   time_t tm_now = time (nullptr);
   localtime_r (&tm_now, &tm_local);
   char tm_buffer[256];
   strftime (tm_buffer, sizeof tm_buffer, "%c", &tm_local);
   cout << "# " << basename (argv[0]) << ": " << tm_buffer << endl;

   // Print strsignal information.
   constexpr int MAXSIG = 255;
   cout << "my %strsignal = (" << endl;
   for (int sig = 0; sig < MAXSIG; ++sig) {
      const char* strsig = strsignal (sig);
      if (strsig == nullptr) continue;
      string stringsig = strsig;
//    if (stringsig.find_first_of ("Unknown signal ") == 0) continue;
//    if (stringsig.find_first_of ("Real-time signal ") == 0) continue;
      cout << setw(5) << sig << " => \"" << stringsig << "\"," << endl;
   }
   printf (");\n");
   return EXIT_SUCCESS;
}

@


1.3
log
@-
@
text
@d1 1
a1 1
// $Id: sigtoperl.cpp,v 1.2 2020-11-21 13:25:38-08 - - $
d35 2
a36 2
      if (stringsig.find_first_of ("Unknown signal ") == 0) continue;
      if (stringsig.find_first_of ("Real-time signal ") == 0) continue;
@


1.2
log
@-
@
text
@d1 1
a1 1
// $Id: sigtoperl.cpp,v 1.1 2018-11-06 18:50:44-08 - - $
d35 2
a36 2
//    if (stringsig.find_first_of ("Unknown signal ") == 0) continue;
//    if (stringsig.find_first_of ("Real-time signal ") == 0) continue;
@


1.1
log
@-
@
text
@d1 1
a1 1
// $Id: sigtoperl.cpp,v 1.3 2018-11-06 18:49:57-08 - - $
d35 2
a36 2
      if (stringsig.find_first_of ("Unknown signal ") == 0) continue;
      if (stringsig.find_first_of ("Real-time signal ") == 0) continue;
@
